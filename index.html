<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>POS System</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/css/fonts/css/all.css">
    <style>
        .label-one {
            background: #53A57F;
            border-radius: 10px;
            width: 275px;
            height: 190px;
            margin: auto;
        }

        .label-one > i {
            color: white;
            font-size: 5em;
            text-align: center;
            display: block;
            padding-top: 30px;
        }

        .label-one > p {
            color: white;
            font-size: 2em;
            text-align: center;
            padding-top: 20px;
        }

        .nav-links {
            font-size: 1.2em;
        }

        .nav-links:hover {
            color: #0a53be;
            font-weight: bold;
            cursor: pointer;
        }

    </style>
</head>
<body>

<section class="shadow">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <img src="assets/images/shop-Icon.jpg" alt="" class="d-inline-block align-text-top" width="45px">
            <h2 class="mx-2">DAILY FOODS</h2>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item mx-1">
                        <!--                        <a href="index.html">Home</a>-->
                        <label id="homePage" class="nav-links">Home</label>
                    </li>
                    <li class="nav-item mx-1">
                        <!--                        <a href="placeOrderIndex.html">Orders</a>-->
                        <label id="orderPage" class="nav-links">Orders</label>
                    </li>
                    <li class="nav-item mx-1">
                        <!--                        <a href="storeManageIndex.html">Items</a>-->
                        <label id="itemPage" class="nav-links">Items</label>
                    </li>
                    <li class="nav-item mx-1">
                        <!--                        <a href="customerManageIndex.html">Customers</a>-->
                        <label id="customerPage" class="nav-links">Customers</label>
                    </li>
                </ul>
                <form class="d-flex">
                    <button class="btn btn-outline-success mx-2">Sign Up</button>
                    <button class="btn btn-outline-danger mx-2">Log Out</button>
                </form>
            </div>
        </div>
    </nav>

</section>
<section id="homeSection" class="container-fluid mt-3">
    <div class="row">
        <section class="col-3 label-one shadow">
            <i class="fas fa-users"></i>
            <p>Customers</p>
        </section>
        <section class="col-3 label-one shadow">
            <i class="fas fa-cubes"></i>
            <p>Items</p>
        </section>
        <section class="col-3 label-one shadow">
            <i class="fab fa-shopify"></i>
            <p>Orders</p>
        </section>
        <section class="col-3 label-one shadow">
            <i class="fas fa-chart-line"></i>
            <p>Income</p>
        </section>
    </div>
    <div class="row mt-3">
        <section class="col-8">
            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                            class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                            aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                            aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner" style="height: 370px">
                    <div class="carousel-item active">
                        <img src="assets/images/supermarket.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="assets/images/supermarket1.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="assets/images/supermarket3.jpg" class="d-block w-100" alt="...">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>
        <section class="col">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab, amet animi consectetur, corporis culpa
                dignissimos dolorum eaque fugiat harum illo ipsum nam numquam odio qui quis sed sequi sunt
                voluptatem.</p>
        </section>
    </div>
</section>

<section id="orderSection" class="container-fluid">
    <section class="row pe-4 ps-4">
        <div class="col shadow-lg  mb-4  bg-body border rounded  border-2 me-5 mt-3 col-12 col-sm-12 col-md-8 col-lg-4 col-xl-3">
            <form class="row g-3">
                <legend class="bg-success p-2 text-white bg-opacity-75">Customer Details</legend>
                <div class="col-md-6">
                    <label for="inputOrderID" class="form-label">Order ID :</label>
                    <input type="email" class="form-control" id="inputOrderID" placeholder="D001">
                </div>
                <div class="col-md-6">
                    <label for="inputDate" class="form-label">Date :</label>
                    <input type="password" class="form-control" id="inputDate" placeholder="21/01/2022">
                </div>
                <div class="col-6">
                    <label for="inputCustomer" class="form-label">Customer :</label>
                    <select id="inputCustomer" class="form-select">
                        <option selected>C001</option>
                        <option>C002</option>
                        <option>C003</option>
                        <option>C004</option>
                    </select>
                </div>
                <div class="col-6">
                    <label for="inputCustomerID" class="form-label">Customer ID :</label>
                    <input type="text" class="form-control" id="inputCustomerID" placeholder="C001">
                </div>
                <div class="col-6">
                    <label for="inputName" class="form-label">Name :</label>
                    <input type="text" class="form-control" id="inputName" placeholder="Nimal">
                </div>
                <div class="col-6">
                    <label for="inputSalary" class="form-label">Salary :</label>
                    <input type="text" class="form-control" id="inputSalary" placeholder="100000.00">
                </div>
                <div class="col-12">
                    <label for="inputAddress" class="form-label">Address :</label>
                    <input type="text" class="form-control" id="inputAddress" placeholder="Matara">
                </div>
            </form>
        </div>
        <div class="col-5 shadow-lg  mb-4  bg-body border rounded  border-2 me-5 mt-3 col-12 col-sm-12 col-md-12 col-lg-6 col-xl-5">
            <form class="row g-3">
                <legend class="bg-success p-2 text-white bg-opacity-75">Select Items</legend>
                <div class="col-md-6">
                    <label for="inputItem" class="form-label">Item :</label>
                    <select id="inputItem" class="form-select">
                        <option selected>P001</option>
                        <option>P002</option>
                        <option>P003</option>
                        <option>P004</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="inputItemCode" class="form-label">Item Code :</label>
                    <input type="password" class="form-control" id="inputItemCode" placeholder="P001">
                </div>
                <div class="col-5">
                    <label for="inputItemName" class="form-label">Item Name :</label>
                    <input type="email" class="form-control" id="inputItemName" placeholder="Salt 1kg">
                </div>
                <div class="col-4">
                    <label for="inputPrice" class="form-label">Price :</label>
                    <input type="text" class="form-control" id="inputPrice" placeholder="50.00">
                </div>
                <div class="col-3">
                    <label for="inputQtyOnHand" class="form-label">QtyOnH :</label>
                    <input type="text" class="form-control" id="inputQtyOnHand" placeholder="200">
                </div>
                <div class="col-12">
                    <label for="inputOrderQty" class="form-label">Order Qty :</label>
                    <input type="text" class="form-control" id="inputOrderQty" placeholder="2">
                </div>
                <div class="col-12">
                    <button class="btn btn-sm btn-secondary me-2" type="button">Add Item</button>
                </div>
            </form>
        </div>
        <div class="col-3 shadow-lg p-3 mb-4  bg-body border rounded  border-2 mt-3  col-12 col-sm-12 col-md-8 col-lg-5 col-xl-3">
            <form class="row g-3">
                <div>
                    <h3 class="text-primary">Total : 100 Rs/=</h3>
                    <h3 class="text-danger">SubTotal : 95 Rs/=</h3>
                </div>
                <div class="col-md-6">
                    <label for="inputCash" class="form-label">Cash</label>
                    <input type="email" class="form-control" id="inputCash" placeholder="500">
                </div>
                <div class="col-md-6">
                    <label for="inputDiscount" class="form-label">Discount</label>
                    <input type="password" class="form-control" id="inputDiscount" placeholder="10">
                </div>
                <div class="col-12">
                    <label for="inputBalance" class="form-label">Balance</label>
                    <input type="text" class="form-control" id="inputBalance" placeholder="405">
                </div>
                <div class="col-12 mx-auto" style="width: 100px">
                    <button id="purchaseBtn" type="submit" class="btn btn-sm btn-success">Purchase</button>
                </div>
            </form>
        </div>
        <div class=" shadow-lg">
            <table class="table table-bordered table-hover m-0">
                <thead class="table-secondary">
                <tr>
                    <th>Item Code</th>
                    <th>Item Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                </tr>
                </thead>
                <tbody>
                <tr class="table-hover fw-light">
                    <th>P001</th>
                    <th>Salt 1kg</th>
                    <th>50</th>
                    <th>2</th>
                    <th>100</th>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
</section>

<section id="itemSection" class="container m-md-4">
    <section class="row">
        <div class="col-6 bg-success p-2 text-dark bg-opacity-25 col-12 col-sm-12 col-md-8 col-lg-4 col-xl-3">
            <form>
                <fieldset>
                    <legend class="bg-success p-2 text-white bg-opacity-75">Search Items</legend>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Search here..">
                    </div>
                    <div class="mb-3">
                        <select class="form-select">
                            <option>Name</option>
                            <option>ID</option>
                        </select>
                    </div>
                    <button class="btn btn-secondary">Clear</button>
                    <button type="submit" class="btn btn-primary">Search</button>
                </fieldset>
            </form>
        </div>
        <div class="col-6 col-12 col-sm-12 col-md-8 col-lg-4 col-xl-3 my-2">

            <button id="openAddNewItem" type="button" class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="#addNewItem"
                    data-bs-whatever="@getbootstrap">New Item
            </button>

            <div class="modal fade" id="addNewItem" tabindex="-1" aria-labelledby="newItemModelLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="newItemModelLabel">Item Details</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="mb-3">
                                    <label for="itemCode" class="col-form-label">Item Code:</label>
                                    <input type="text" class="form-control" id="itemCode">
                                </div>
                                <div class="mb-3">
                                    <label for="itemName" class="col-form-label">Item Name:</label>
                                    <input type="text" class="form-control" id="itemName">
                                </div>
                                <div class="mb-3">
                                    <label for="itemQty" class="col-form-label">Item Qty:</label>
                                    <input type="text" class="form-control" id="itemQty">
                                </div>
                                <div class="mb-3">
                                    <label for="itemPrice" class="col-form-label">Item Price:</label>
                                    <input type="text" class="form-control" id="itemPrice">
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="btnItemDelete">Delete</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" id="btnSaveItem">Save & Update</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>


    <section class="row p-2">
        <table class="table table-striped table-info">
            <thead>
            <tr>
                <th scope="col">Item Code</th>
                <th scope="col">Item Name</th>
                <th scope="col">Item Qty</th>
                <th scope="col">Item Price</th>
            </tr>
            </thead>
            <tbody id="itemTable">


            </tbody>
        </table>
    </section>

</section>

<section id="customerSection" class="container m-md-4">
    <section class="row">
        <div class="col-6 bg-success p-2 text-dark bg-opacity-25 col-12 col-sm-12 col-md-8 col-lg-4 col-xl-3">
            <form>
                <fieldset>
                    <legend class="bg-success p-2 text-white bg-opacity-75">Customer Search</legend>
                    <div class="mb-3">
                        <label for="txtSearchCusID"></label>
                        <input type="text" id="txtSearchCusID" class="form-control" placeholder="Search here..">
                    </div>
                    <div class="mb-3">
                        <select id="disabledSelect" class="form-select">
                            <option>Name</option>
                            <option>ID</option>
                            <option>NIC</option>
                        </select>
                    </div>
                    <button class="btn btn-secondary">Clear</button>
                    <button id="btnSearchCus" type="button" class="btn btn-primary">Search</button>
                </fieldset>
            </form>
        </div>
        <div class="col-6 col-12 col-sm-12 col-md-8 col-lg-4 col-xl-3 my-2">
            <button id="openAddNewCustomer" type="button" class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="#cusDetailPopup"
                    data-bs-whatever="@getbootstrap">New Customer
            </button>

            <div class="modal fade" id="cusDetailPopup" tabindex="-1" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Customer Details</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="mb-3">
                                    <label for="txtCusID" class="col-form-label">Customer ID:</label>
                                    <input type="text" class="form-control" id="txtCusID">
                                    <p><small class="text-danger pl-1" id="lblcusid"></small></p>
                                </div>
                                <div class="mb-3">
                                    <label for="txtCusName" class="col-form-label">Customer Name:</label>
                                    <input type="text" class="form-control" id="txtCusName">
                                    <p><small class="text-danger pl-1" id="lblcusname"></small></p>
                                </div>
                                <div class="mb-3">
                                    <label for="txtCusAddress" class="col-form-label">Customer Address:</label>
                                    <textarea class="form-control" id="txtCusAddress"></textarea>
                                    <p><small class="text-danger pl-1" id="lblcusaddress"></small></p>
                                </div>
                                <div class="mb-3">
                                    <label for="txtCusTP" class="col-form-label">Customer Telephone:</label>
                                    <input type="text" class="form-control" id="txtCusTP">
                                    <p><small class="text-danger pl-1" id="lblcustp"></small></p>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="btnCustomerDelete">Delete</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="btnClear">Clear</button>
                            <button type="button" class="btn btn-primary" id="btnSaveCustomer">Save & Update</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>


    <section class="row p-2">
        <table class="table table-striped table-info">
            <thead>
            <tr>
                <th scope="col">Customer ID</th>
                <th scope="col">Customer Name</th>
                <th scope="col">Customer Address</th>
                <th scope="col">Customer Phone</th>
            </tr>
            </thead>
            <tbody id="customerTable">

            </tbody>
        </table>
    </section>

</section>


<script src="assets/jQuery/jquery-3.6.0.min.js"></script>
<script src="assets/bootstrap/js/bootstrap.min.js"></script>
<script src="db/DB.js"></script>
<script>

    $("#btnSaveCustomer").click(function () {
        saveCustomer();
        clearAll();
        loadAllCustomers();
    });

    function loadAllCustomers() {
        $("#customerTable").empty();
        for (var i of customerDB) {
            let row = `<tr><td>${i.id}</td><td>${i.name}</td><td>${i.address}</td><td>${i.tp}</td></tr>`;
            $("#customerTable").append(row);
        }
    }
    //let selectedCus;
    //save customer
    function saveCustomer() {
        let customerID = $("#txtCusID").val();
        let customerName = $("#txtCusName").val();
        let customerAddress = $("#txtCusAddress").val();
        let customerTP = $("#txtCusTP").val();

        //create Object
        var customerObject = {
            id:customerID,
            name:customerName,
            address:customerAddress,
            tp:customerTP
        }

        customerDB.push(customerObject);

        // let newRow = `<tr><td>${customerID}</td><td>${customerName}</td><td>${customerAddress}</td><td>${customerTP}</td></tr>`;
        //
        // $("#customerTable").append(newRow);
        //
        // //get customer
        // $("#customerTable>tr").click(function () {
        //     let cusID = $(this).children(":eq(0)").text();
        //     let cusName = $(this).children(":eq(1)").text();
        //     let cusAddress = $(this).children(":eq(2)").text();
        //     let cusTP = $(this).children(":eq(3)").text();
        //
        //     selectedCus=this;
        //     $("#openAddNewCustomer").click();
        //
        //     $("#txtCusID").val(cusID);
        //     $("#txtCusName").val(cusName);
        //     $("#txtCusAddress").val(cusAddress);
        //     $("#txtCusTP").val(cusTP);
        // });
    }

    function searchCustomer(id) {
        for (let i = 0; i < customerDB.length; i++) {
            if (customerDB[i].id == id) {
                return customerDB[i];
            }
        }
    }

    // search customer
    $("#btnSearchCus").click(function () {

        var searchID = $("#txtSearchCusID").val();
        var response = searchCustomer(searchID);

        if (response) {
            $("#cusDetailPopup").modal('show');

            $("#txtCusID").val(response.id);
            $("#txtCusName").val(response.name);
            $("#txtCusAddress").val(response.address);
            $("#txtCusTP").val(response.tp);
        }else{
            clearAll();
            alert("No Such a Customer");
        }
    });

    //remove selected customer
    // $("#btnCustomerDelete").click(function () {
    //     $(selectedCus).remove();
    // });

    // $("#txtCusID").keydown(function (event) {
    //     if (event.key == 'Enter') {
    //         $("#cusName").focus();
    //     }
    // });
    // $("#cusName").keydown(function (event) {
    //     if (event.key == 'Enter') {
    //         $("#cusAddress").focus();
    //     }
    // });
    // $("#cusAddress").keydown(function (event) {
    //     if (event.key == 'Enter') {
    //         $("#cusTP").focus();
    //     }
    // });
    // $("#cusTP").keydown(function (event) {
    //     if (event.key == 'Enter') {
    //         $("#btnSaveCustomer").focus();
    //     }
    // });

    //validation
    //customer regular expressions
    const regExCusID = /^C[0-9]{3,4}$/;
    const regExCusName = /^[A-z]{5,25}$/;
    const regExCusAddress = /^[0-9/A-z. ,]{5,}$/;
    const regExCusTP = /^(071|077|078|075|076)[-]?[0-9]{7}$/;

    // $("#txtCusID").keyup(function () {
    //      let input = $("#txtCusID").val();
    //     if (regExCusID.test(input)) {
    //         $("#txtCusID").css('border','2px solid green');
    //     }else{
    //         $("#txtCusID").css('border','2px solid red');
    //     }
    //  });


    $('#txtCusID,#txtCusName,#txtCusAddress,#txtCusTP').on('keydown', function (eventOb) {
        if (eventOb.key == "Tab") {
            eventOb.preventDefault();
        }
    });

    $('#txtCusID,#txtCusName,#txtCusAddress,#txtCusTP').on('blur', function () {
        formValid();
    });

    //focusing events
    $("#txtCusID").on('keyup', function (eventOb) {
        setButton();
        if (eventOb.key == "Enter") {
            checkIfValid();
        }

        if (eventOb.key == "Control") {
            var typedCustomerID = $("#txtCusID").val();
            var srcCustomer = searchCustomer(typedCustomerID);
            // $("#txtCusID").val(srcCustomer.getCustomerID());
            // $("#txtCusName").val(srcCustomer.getCustomerName());
            // $("#txtCusAddress").val(srcCustomer.getCustomerAddress());
            // $("#txtCusTP").val(srcCustomer.getCustomerSalary());
        }

    });

    $("#txtCusName").on('keyup', function (eventOb) {
        setButton();
        if (eventOb.key == "Enter") {
            checkIfValid();
        }
    });

    $("#txtCusAddress").on('keyup', function (eventOb) {
        setButton();
        if (eventOb.key == "Enter") {
            checkIfValid();
        }
    });

    $("#txtCusTP").on('keyup', function (eventOb) {
        setButton();
        if (eventOb.key == "Enter") {
            checkIfValid();
        }
    });
    // focusing events end
    $("#btnSaveCustomer").attr('disabled', true);

    function clearAll() {
        $('#txtCusID,#txtCusName,#txtCusAddress,#txtCusTP').val("");
        $('#txtCusID,#txtCusName,#txtCusAddress,#txtCusTP').css('border', '2px solid #ced4da');
        $('#txtCusID').focus();
        $("#btnSaveCustomer").attr('disabled', true);
        loadAllCustomers();
        $("#lblcusid,#lblcusname,#lblcusaddress,#lblcustp").text("");
    }

    function formValid() {
        var cusID = $("#txtCusID").val();
        $("#txtCusID").css('border', '2px solid green');
        $("#lblcusid").text("");
        if (regExCusID.test(cusID)) {
            var cusName = $("#txtCusName").val();
            if (regExCusName.test(cusName)) {
                $("#txtCusName").css('border', '2px solid green');
                $("#lblcusname").text("");
                var cusAddress = $("#txtCusAddress").val();
                if (regExCusAddress.test(cusAddress)) {
                    var cusTP = $("#txtCusTP").val();
                    var resp = regExCusTP.test(cusTP);
                    $("#txtCusAddress").css('border', '2px solid green');
                    $("#lblcusaddress").text("");
                    if (resp) {
                        $("#txtCusTP").css('border', '2px solid green');
                        $("#lblcustp").text("");
                        return true;
                    } else {
                        $("#txtCusTP").css('border', '2px solid red');
                        $("#lblcustp").text("Cus Telephone is a required field : Pattern 07********");
                        return false;
                    }
                } else {
                    $("#txtCusAddress").css('border', '2px solid red');
                    $("#lblcusaddress").text("Cus Address is a required field : Mimum 5");
                    return false;
                }
            } else {
                $("#txtCusName").css('border', '2px solid red');
                $("#lblcusname").text("Cus Name is a required field : Minimum 5, Max 25, Spaces Allowed");
                return false;
            }
        } else {
            $("#txtCusID").css('border', '2px solid red');
            $("#lblcusid").text("Cus ID is a required field : Pattern C001");
            return false;
        }
    }

    function checkIfValid() {
        var cusID = $("#txtCusID").val();
        if (regExCusID.test(cusID)) {
            $("#txtCusName").focus();
            var cusName = $("#txtCusName").val();
            if (regExCusName.test(cusName)) {
                $("#txtCusAddress").focus();
                var cusAddress = $("#txtCusAddress").val();
                if (regExCusAddress.test(cusAddress)) {
                    $("#txtCusTP").focus();
                    var cusTp = $("#txtCusTP").val();
                    var resp = regExCusTP.test(cusTp);
                    if (resp) {
                        let res = confirm("Do you really need to add this Customer..?");
                        if (res) {
                            saveCustomer();
                            clearAll();
                        }
                    } else {
                        $("#txtCusTP").focus();
                    }
                } else {
                    $("#txtCusAddress").focus();
                }
            } else {
                $("#txtCusName").focus();
            }
        } else {
            $("#txtCusID").focus();
        }
    }

    function setButton() {
        let b = formValid();
        if (b) {
            $("#btnSaveCustomer").attr('disabled', false);
        } else {
            $("#btnSaveCustomer").attr('disabled', true);
        }
    }

    $('#btnSaveCustomer').click(function () {
        checkIfValid();
    });


    //------Item-----------

    let selectedItem;
    //save item
    $("#btnSaveItem").click(function () {
        let iCode = $("#itemCode").val();
        let item = $("#itemName").val();
        let qty = $("#itemQty").val();
        let price = $("#itemPrice").val();

        let itemRow = `<tr><td>${iCode}</td><td>${item}</td><td>${qty}</td><td>${price}</td></tr>`;

        $("#itemTable").append(itemRow);


        //get item
        $("#itemTable>tr").click(function () {
            let itemCode = $(this).children(":eq(0)").text();
            let itemName = $(this).children(":eq(1)").text();
            let itemQty = $(this).children(":eq(2)").text();
            let itemPrice = $(this).children(":eq(3)").text();

            selectedItem=this;

            $("#openAddNewItem").click();

            $("#itemCode").val(itemCode);
            $("#itemName").val(itemName);
            $("#itemQty").val(itemQty);
            $("#itemPrice").val(itemPrice);

        });
    });

    //remove selected item
    $("#btnItemDelete").click(function () {
        $(selectedItem).remove();
    });

    $("#itemCode").keydown(function (event) {
        if (event.key == 'Enter') {
            $("#itemName").focus();
        }
    });
    $("#itemName").keydown(function (event) {
        if (event.key == 'Enter') {
            $("#itemQty").focus();
        }
    });
    $("#itemQty").keydown(function (event) {
        if (event.key == 'Enter') {
            $("#itemPrice").focus();
        }
    });
    $("#itemPrice").keydown(function (event) {
        if (event.key == 'Enter') {
            $("#btnSaveItem").focus();
        }
    });


    $("#orderSection").css("display", "none");
    $("#itemSection").css("display", "none");
    $("#customerSection").css("display", "none");
    $("#homePage").css("fontWeight", "bold");

    $("#homePage").click(function () {
        $("#homeSection").css("display", "block");
        $("#orderSection").css("display", "none");
        $("#itemSection").css("display", "none");
        $("#customerSection").css("display", "none");
        $("#homePage").css("fontWeight", "bold");
        $("#orderPage").css("fontWeight", "normal");
        $("#itemPage").css("fontWeight", "normal");
        $("#customerPage").css("fontWeight", "normal");

    });

    $("#orderPage").click(function () {
        $("#homeSection").css("display", "none");
        $("#orderSection").css("display", "block");
        $("#itemSection").css("display", "none");
        $("#customerSection").css("display", "none");
        $("#orderPage").css("fontWeight", "bold");
        $("#homePage").css("fontWeight", "normal");
        $("#itemPage").css("fontWeight", "normal");
        $("#customerPage").css("fontWeight", "normal");
    });

    $("#itemPage").click(function () {
        $("#homeSection").css("display", "none");
        $("#orderSection").css("display", "none");
        $("#itemSection").css("display", "block");
        $("#customerSection").css("display", "none");
        $("#itemPage").css("fontWeight", "bold");
        $("#orderPage").css("fontWeight", "normal");
        $("#homePage").css("fontWeight", "normal");
        $("#customerPage").css("fontWeight", "normal");
    });

    $("#customerPage").click(function () {
        $("#homeSection").css("display", "none");
        $("#orderSection").css("display", "none");
        $("#itemSection").css("display", "none");
        $("#customerSection").css("display", "block");
        $("#customerPage").css("fontWeight", "bold");
        $("#orderPage").css("fontWeight", "normal");
        $("#itemPage").css("fontWeight", "normal");
        $("#homePage").css("fontWeight", "normal");
    });


</script>

</body>
</html>